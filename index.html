<!DOCTYPE html>
<html>
<head>
	<title>WebSocket Чат</title>
	<style>
		body { font-family: Arial, sans-serif; }
		#messages { border: 1px solid #ccc; padding: 10px; height: 300px; overflow-y: scroll; }
	</style>
</head>
<body>
	<h1>WebSocket Чат</h1>
	<div id="messages"></div>
	<input type="text" id="messageInput" placeholder="Введите сообщение">
	<button onclick="sendMessage()">Отправить</button>

	<script>
		const ws = new WebSocket("ws://localhost:8080/ws");
		
		ws.onopen = function() {
			console.log("Соединение установлено");
			addMessage("Подключено к серверу");
		};

		ws.onmessage = function(event) {
			addMessage("Получено: " + event.data);
		};

		ws.onclose = function() {
			addMessage("Соединение закрыто");
		};

		function sendMessage() {
			const input = document.getElementById("messageInput");
			const message = input.value;
			if (message) {
				ws.send(message);
				addMessage("Отправлено: " + message);
				input.value = "";
			}
		}

		function addMessage(message) {
			const messages = document.getElementById("messages");
			const p = document.createElement("p");
			p.textContent = message;
			messages.appendChild(p);
			messages.scrollTop = messages.scrollHeight;
		}
	</script>
</body>
</html>